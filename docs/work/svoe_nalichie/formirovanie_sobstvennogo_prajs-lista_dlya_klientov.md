---
title: formirovanie_sobstvennogo_prajs-lista_dlya_klientov
createTime: 2025/05/14 23:12:00
---
# Формирование собственного прайс-листа для клиентов

Программа предоставляет возможность сформировать и отправить клиентам на внешние FTP-ресурсы собственные прайс-листы на основе загруженных в систему данных.

Для формирования прайс-листов используется **Генерация обобщенного прайс-листа**.

Каждая процедура генерации обобщенного прайс-листа сопровождается выгрузкой LOG-файла в каталог выгрузки, который содержит параметры выгрузки и ход выполнения процедуры выгрузки. На основании информации из LOG-файла возможна диагностика в случае каких-либо проблем с выгрузкой.

Для добавления нового задания на генерацию прайс-листа выполните следующие действия:

**»** В **Главном меню** выберите раздел **Товары и цены ► Действия с прайс-листами ► Генерация обобщенного прайс-листа** (УГОПЛ) отобразятся элементы выбранного пункта.

**»** Заполните необходимые параметры генерации и выгрузки прайс-листов (поля, выделенные жирным шрифтом – обязательные для заполнения):

![](240.png)

![](006.png)**Файл**

Позволяет выполнить настройку файла экспорта:

![](241.png)

1  **Каталог для выгрузки\* –** укажите путь к папке с файлами выгрузки;
1  **Маска для выгружаемого (-ых) файла\*** – укажите название для формируемых файлов. Для настройки имен файлов присутствует возможность указать произвольную маску (по аналогии с номерами документов). В маску может входить произвольный текст и два **Доступных макроса**: {Дата} и {Категория}. Причем макрос {Категория} обязателен для использования в случае выгрузки прайс-листов для нескольких категорий клиентов. Также производится обработка некоторых символов в названии файлов, они будут заменяться на символ "\_". Замена производится с целью последующего корректного импорта выгруженных файлов в систему;

::: note Замечание

В случае выгрузки в формат .csv, максимальное количество символов в название файла – 60. Для остальных типов файлов – 248.

:::

1  **Формат выгружаемого (-ых) файла\*** – выберите формат выгрузки из списка доступных. Поддерживаются форматы .csv с различным типом кодировки, .xlsx, .xml и .mdb;

::: note Замечание

При выгрузке большого объема данных (более 1 млн. строк) в формате XLSX, информация в файле будет разделена на несколько листов.

:::

1  **Предварительный просмотр** – предварительный просмотр имени и пути формируемого списка файлов с прайс-листами;
1  **Выгрузить курсы валют** – включите опцию, если необходима совместная выгрузка прайс-листов и действующих на момент выгрузки курсов валют;
1  **Архивировать** – включите опцию, если необходимо поместить в архив полученные прайс-листы;
1  **Удалить файлы после архивации** – при включении опции выгруженные прайс-листы удаляются после успешной архивации. В противном случае файлы не будут удалены;
1  **Подготовить файлы для выгрузки на сайт –** при включении опции программа форматирует имена выгружаемых прайс-листов и добавляет к имени категорию клиента (в зашифрованном виде). Файлы, прошедшие данное форматирование, используются для загрузки на сайт. Затем обработчик убирает категорию и возвращает исходное имя файлов. Тем самым посетители вашего сайта смогут скачивать загруженные для их категории прайс-листы;

::: info Примечание

Необходимо оформить заявку на добавление поддержки этой возможности Вашим сайтом. Указать, где необходимо разместить ссылки на скачивание, в каком виде, какая дополнительная логика должна быть реализована (если она необходима).

:::

1  **Передать сформированные файлы на FTP-сервер** – включите опцию, если необходима передача сформированных прайс-листов на указанный ftp-сервер. Заполните параметры ftp-сервера:
   1  **Адрес FTP-сервера**\* – укажите адрес ftp-сервера, на который требуется выложить файлы;
   1  **Логин и пароль** – укажите логин и пароль для доступа к ftp-серверу.
1  **Отправить сформированные файлы на почту** – включите опцию, если необходима передача сформированных прайс-листов на электронные почты. Заполните параметры:
   1  **Учетная запись** **email** – выберите учетную запись, с которой будет выполняться отправка писем;
   1  **Email получателя** – укажите один или несколько (через ;) email получателей писем с прайс-листам;
   1  **Тема письма** – укажите тему письма. В данном поле присутствует возможность использовать макросы из блока **Маска для выгружаемого (-ых) файла**.

![](008.png)**Колонки**

Позволяет выбрать выгружаемые в прайс-лист колонок, а также установить их порядок следования.

::: note Замечание

Колонки **Рейтинг поставщика** и **Направление/Склад** доступна в значении **Не сворачивать** для опции **Сворачивать предложения** в блоке **Параметры**.

:::

Под секцией с выбором колонок присутствует опция **Выгружать заголовки колонок**. Если опция выключена, то в выгружаемый файл не будут выгружаться заголовки экспортируемых колонок. Это может быть удобно при автоматическом импорте и постобработке выгруженного файла.

![](009.png)**Производители**

Позволяет ограничить список выгружаемых производителей. Если фильтр выключен, то выгружаются товары всех производителей, иначе только отмеченных.

![](010.png)**Группы товаров**

Позволяет выгружать товары, принадлежащие конкретным группам.  Если фильтр выключен, то выгружаются товары из всех групп товаров, иначе только отмеченных.

::: info Примечание

Фильтр по **Группам товаров** применяется только к позициям прайс-листов из наличия.

:::

![](011.png)**Наименования**

Позволяет исключить из выгружаемого прайс-листа товары, наименование которых содержит определенные слова. Если фильтр выключен, то выгружаются товары, вне зависимости от слов-исключений, иначе, исключаются товары по созданным записям. 

::: warning Внимание!

Использование фильтра замедлит процесс генерации прайс-листа.

:::

Вкладка содержит опцию **Приоритет для наименования товара**, которая позволяет установить приоритет для подстановки наименований товаров выгружаемого прайс-листа. Опция содержит значения:

**Из прайс-листа** (установлено по умолчанию) – отображает наименования товаров из прайс-листа;

**Из карточки товара. Наименование** – отображает наименование товаров из справочника **Товары**, если в карточке товара заполнено поле **Наименование**;

**Из карточки товара. Альтернативное наименование** – отображает альтернативное наименование товаров из справочника **Товары**, если в карточке товара заполнено поле **Альт. наименование**.

::: info Примечание

Если при установленном приоритете **Из карточки товара. Наименование** или **Из карточки товара. Альтернативное наименование** для выгружаемых товаров не будет найдено наименование в карточке товара, то для данного товара будет использовано наименование из прайс-листа.

:::

Для добавления слов-исключений используйте кнопку **Добавить**, в появившейся строчке укажите одно или несколько слов (через пробел), встречающихся в наименовании товаров, которые требуется исключить. Порядок слов и регистр не имеют значения.

::: note Замечание

В строчке должно быть введено как минимум 3 символа. Например, если ввести "БУ", такая запись не пройдет проверку, выведется соответствующее уведомление.Нельзя создать несколько записей с одинаковым значением.Максимальное количество строк (записей) со словами исключениями – 100.

:::

**Алгоритм поиска слов исключений**:

1  перед поиском строчка фильтра разбивается на слова (разделителем считается пробел);
1  в наименовании товара очищаются специальные символы, за исключением "-" и "–";
1  в наименовании товара ищутся слова из строчки фильтра. Если все слова найдены, то товар будет исключен.

::: note Пример

Создана запись с текстом "Уценка". Из прайс-листа будут исключены позиции с наименованием "фильтр уценка", "б/у запчасть (бампер), уценка", "УЦЕНКА!!!" и т.д.;
создана запись с текстом "уценка!". Из прайс-листа будут исключены позиции с наименованием "УЦЕНКА! фильтр", "б/у фильтра, уценка!" и т.д., при этом "фильтр уценка" исключен не будет, так как слово-исключение "уценка!";
создана запись "фильтр kl9". Из прайс-листа будут исключены позиции с наименованием "kl9 топливный фильтр", "kl9, фильтр" и т.д., при этом "фильтр kl-9" исключен не будет, так как спецсимвол "-" не очищается;
создана запись с текстом "топливный фильтр". Из прайс-листа будут исключены позиции с наименованием "Фильтр Топливный", "фильтр kl9 топливный", "ТОПЛИВНЫЙ фильтр, уценка".

:::
::: warning Внимание!

Отсев позиций происходит по целому слову, т.е. если введено "стекло", то позиция с наименованием "стекло-вата" исключена не будет.

:::

   ![](012.png)**Коды товаров**

Позволяет исключить из выгружаемого прайс-листа товары с определенными кодами.

Если фильтр выключен, то выгружаются товары, вне зависимости от кодов исключений, иначе, исключаются товары по созданным записям.

::: warning Внимание!

Использование фильтра замедлит процесс генерации прайс-листа.

:::

Для добавления кодов исключений используйте кнопку **Добавить**, в появившейся строчке укажите код товара, который требуется исключить. Каждый код товара необходимо вводить отдельной строкой.

::: note Замечание

В строчке должно быть введено как минимум 3 символа. Например, если ввести "kl», такая запись не пройдет проверку, выведется соответствующее уведомление. Нельзя создать несколько записей с одинаковым значением. Максимальное количество строк (записей) с кодами исключениями – 100.

:::

**Алгоритм поиска слов исключений**:

1  перед поиском в строчке фильтра очищаются все спецсимволы, например, если введено "kl-9", код преобразуется в "kl9";
1  код товара также очищается от спецсимволов;
1  ищутся совпадение кодов товара со строчкой фильтра. Если код будет найден, то товар будет исключен.

::: note Пример

Создана запись с кодом "kl-9". Из прайс-листа будут исключены позиции с кодом "kl9", "kl-9", "kl 9" и т.д.;
•  создана запись с кодом "28-2985". Из прайс-листа будут исключены позиции с кодом "282985", "282-985", "28 2985" и т.д.

:::

   ![](013.png)**Прайс-листы из наличия**

Позволяет ограничить список прайс-листов из наличия, используемых для выгрузки.  Если фильтр выключен, то выгружаются товары из всех прайс-листов наличия, иначе только из отмеченных.

![](014.png)**Прайс-листы поставщиков**

Позволяет ограничить список прайс-листов от поставщиков, используемых для выгрузки. Фильтрация работает аналогично фильтру для производителей.

Под секцией с выбором прайс-листов присутствует опция **Использовать только прайс-листы, обновленные за последние дни**, которая позволяет использовать предложение только по тем прайс-листам поставщиков, которые были актуализированы не позднее указанного количества дней назад;

Для прайс-листов из наличия и от поставщиков присутствует возможность выгружать только те позиции, которые выделены определенными **Группами скидки**. Для этого необходимо:

1  включить фильтр для прайс-листа;
1  выделить требуемый прайс-лист;
1  на секции **Фильтр по группам скидки** нажать кнопку **Включить фильтр** и указать те **Группы скидки**, по которым требуется выгрузить позиции.

   ![](015.png)**Вес**

Позволяет исключить исключить из прайс-листа позиции с незаполненным или равным нулю весом.

![](016.png)**Срок доставки**

Позволяет включить выгрузку товаров со сроком поставки, не превышающим **Максимальный срок поставки**. При этом в итоговом прайс-листе будут присутствовать только те позиции, для которых срок доставки меньше или равен указанному количеству дней;

Если необходимо исключить позиции от поставщиков с нулевым сроком поставки, включите опцию **Исключать позиции прайс-листов от поставщиков с нулевым сроком поставки**;

![](017.png)**Оригинальные замены производителей**

Позволяет осуществить обработку позиций прайс-листа с помощью справочника **Оригинальные замены производителей**. Возможны следующие варианты обработки:

1  **Для устаревших артикулов устанавливать цену от оригинальной замены** – все позиции обобщенного прайс-листа, которые имеют в справочнике **Оригинальные замены производителей** актуальную замену, выгружаются с ценой на актуальную замену;
1  **Не выгружать в обобщенный прайс-лист устаревшие артикулы** – все позиции товара, найденные в справочнике **Оригинальные замены производителей** в качестве устаревшего артикула, не выгружаются в обобщенный прайс-лист;

"**Размножать**" **позиции через справочник оригинальных замен** – у каждой выгружаемой позиции будут считываться устаревшие товары (для которых текущая позиция – оригинальная замена). И если они найдены, то они будут попадать в выгружаемый прайс-лист с показателями (цена, количество, срок поставки и т.д.) такими же, как у исходной позиции.

![](018.png)**Цена продажи**

Позволяет осуществить фильтрацию позиций по цене продажи:

1  **Диапазон цены продажи** – включите фильтр и укажите диапазон цен для выгрузки, при этом в выгружаемый обобщенный прайс-лист попадут только те позиции, вычисляемая цена закупа которых в валюте обобщенного прайс-листа попадает в заданный диапазон цен;
1  **Контроль цен на разные предложения одного товара** – включите фильтр и укажите максимальное значение отклонения цены продажи от минимальной цены в %, при этом отсеются предложения, которые дороже минимальной цены в предложениях одного товара более чем на указанный в параметрах процент. Например, если по товару А есть три предложения: 100р, 120р и 300р. А порог указан как 33%, то предложения за 100р и за 120р останутся, а за 300р будет отфильтровано.

   ![](019.png)**Склады**

Позволяет ограничить список складов, наличие по которым необходимо учитывать при выгрузке данных из прайс-листов наличия. Если какой-либо склад "выключен", то наличие будет рассчитано без учета наличия на нем. Если фильтр **Склады** выключен, то остатки товаров из прайс-листов наличия будут выгружены по всем складам.

![](020.png)**Параметры**

Позволяет осуществить фильтрацию/обработку товаров по остаткам:

1  **Заменять остатки с нечисловым представлением на следующий текст** – укажите текст, на который будут единообразно заменены все значения остатков по позициям в нечисловом виде. Например, наличие в прайс-листе поставщиков было задано как произвольная строка ("+", "есть", ">10" и т.д.), в настройке задан текст "в наличие", в выгруженном прайс-листе для таких позиций остаток выведется как "в наличие";
1  **Скрывать от покупателя остатки по позиции, если они больше указанного количества** – включите опцию, задайте порог для замены остатков, введите текст для замены, если необходимо скрывать свое наличие по позициям, значение которого превышает заданный порог. Например, для позиций с остатками более 50шт задать текст "в наличие";
1  **Исключать позиции с нулевым остатком** – включите опцию, если необходимо отфильтровать позиции с нулевым наличием;

::: note Замечание

Если фильтр **Исключать позиции с нулевым остатком** отключен, то если при выгрузке будет найден отсутствующий товар (присутствует маркетинг без указания склада на отсутствующий товар) с ценой ниже товара из наличия, то при "сворачивании" предложений (параметр **Сворачивать предложения** в блоке **Ценообразование**) для товара установится цена отсутствующего товара.

:::

1  **Исключать зарезервированный товар** – включите опцию, если необходимо исключать остатки по позициям из прайс-листа наличия, находящимся в резерве.

::: note Замечание

Для **Партионной** схемы ценообразования доступен фильтр **Наши  фирмы** – позволяет ограничить список наших фирм, наличие по которым необходимо учитывать при выгрузке данных из прайс-листов наличия. Если какая-либо фирма "выключена", то наличие будет рассчитано без учета наличия на ней. Если фильтр **Наши фирмы** выключен, то остатки товаров из прайс-листов наличия будут выгружены по всем фирмам.

:::

   ![](021.png)**Категории клиентов для выгрузки цен**

Позволяет выгрузить прайс-листы по категориям клиентов, на основе которых будут формироваться цены на товары. Для каждой категории будет сформирован отдельный обобщенный прайс-лист. Если фильтр не включен, сформируются прайс-листы для все категорий клиентов в системе

![](022.png)**Параметры**

Позволяет задают параметры ценообразования в выгружаемом прайс-листе:

**Приоритет для цен на товар в обобщенном прайс-листе** – укажите стратегию выбора единственной цены продажи в случае, если на одну позицию сформировано несколько цен (маркетингов): минимальную или максимальную;

**Сворачивать предложения** – укажите стратегию "сворачивания" предложений в одну строку по товару. Возможные следующие варианты:

**не сворачивать –** каждое предложение по товару будет выведено независимыми строками в прайс-листе;

**по коду-производителю –** предложение по товару будут выведены одной строкой суммируя наличие по всем предложениям и предлагая выбранную цену в соответствии с приоритетом;

**по коду-производителю с разделением остатков по складам –** предложения по товару из наличия будут выведены одной строкой суммируя наличие по складу и предлагая выбранную цену в соответствии с приоритетом.

**Исключать позиции с нулевой ценой закупа в прайс-листах из наличия и от поставщиков** – включите опцию для фильтрации позиций, у которых в родительском прайс-листе цена закупа равна нулю;

**Исключить позиции с нулевой ценой продажи в обобщенном прайс-листе** – включите опцию для фильтрации позиций, у которых в прайс-листе наличия задана нулевая цена продажи;

**Скрывать предложение поставщиков, которое есть в собственном наличии** – включите опции для того, чтобы отсеять предложения поставщиков, которые имеются в собственном наличии. Можно скрывать все предложение поставщиков или только более дешевые (цена продажи поставщика меньше/равна цене на такой же товар в наличии);

**Выгружать цены в валюте\* –** задайте валюту, в которой выгружаются цены в обобщенный прайс-лист.

![](023.png)**Выгрузить прайс-лист**

![](242.png)

Позволяет выгрузить в файл обобщенный прайс-лист (прайс-листы) на основании заданных параметров выгрузки

![](024.png)**Создать bat-файл**

![](243.png)

Позволяет создать bat-файл, при запуске которого открывается программа Parts.Intellect и осуществляется выгрузка обобщенного прайс-листа (прайс-листов) на основании выбранных параметров выгрузки.

![](025.png)**Сохранить настройки**

![](244.png)

Позволяет сохранить установленные параметры выгрузки в файл.

![](026.png)**Загрузить настройки**

![](245.png)

Позволяет загрузить файл с параметрами **Генерации обобщенного прайс-листа**.

![](027.png)**Обновить**

![](246.png)

Позволяет обновить информацию, используемую в генераторе. Например, позиции из используемых словарей/справочников, прайс-листы и т.д.
