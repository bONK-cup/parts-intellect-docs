import{_ as i,c as r,a as l,d as e,b as a,w as o,r as d,o as p,e as s}from"./app-CUu1n7_5.js";const c="/parts-intellect-docs/assets/270-D3C0pOVC.png",_={},m={class:"hint-container details"};function u(v,t){const n=d("RouteLink");return p(),r("div",null,[t[3]||(t[3]=l('<p>При работе с базами данных в случае сбоев в работе сервера (выход из строя жесткого диска и другого оборудования, сбой электросети, программные ошибки операционной системы и т.д.) может возникнуть ситуация, когда часть данных не сохраняется в базу, не считывается и т.п. СУБД, как правило, самостоятельно пытается решить такие проблемы, но не всегда успешно, поэтому настоятельно рекомендуется регулярно создавать резервные копии баз данных, периодически проверять резервные копии, а также проверять целость базы (рекомендуется выполнять проверку минимум раз в месяц).</p><div class="hint-container warning"><p class="hint-container-title">Внимание!</p><p>Перед выполнением действий, описанных в данном разделе, необходимо создать резервную копию базы данных.</p></div><p>Для проверки целостности базы данных выполните следующие действия:</p><p><strong>»</strong> Запустите Microsoft SQL Management Studio, перейдите в раздел <strong>Базы данных</strong>, выберите необходимую базу и выполните команду <strong>Создать запрос</strong>, откроется окно для ввода SQL-запроса.</p><div class="hint-container warning"><p class="hint-container-title">Внимание!</p><p>Все пользователи, работающие с базой, обязательно должны выйти из программы.</p></div><p><strong>»</strong> Выполните следующий запрос: &quot;dbcc checkdb&quot; – проверяет логическую и физическую целостность всех объектов в выбранной базе данных.</p><p>Если в результате выполнения запроса на проверку целостности базы выявлены ошибки, необходимо выполнить следующие действия в Microsoft SQL Management Studio:</p><p><strong>»</strong> В открытом ранее окне для ввода SQL-запроса выполните следующий скрипт :</p><p><code>ALTER DATABASE ИМЯ\\_БД SET SINGLE\\_USER WITH ROLLBACK IMMEDIATE; dbcc checkdb (N&#39;ИМЯ\\_БД&#39;, REPAIR\\_REBUILD); ALTER DATABASE ИМЯ\\_БД SET Multi\\_USER;</code></p><p><img src="'+c+'" alt=""></p><div class="hint-container warning"><p class="hint-container-title">Внимание!</p><p>Все пользователи, работающие с базой, обязательно должны выйти из программы.</p></div><div class="hint-container note"><p class="hint-container-title">Замечание</p><p>При выполнении данного скрипта нельзя гарантировать 100% вероятность решения, результат зависит от степени повреждения базы данных.</p></div><p>Если при выполнении скрипта произошли ошибки, то рекомендуется восстановить базу данных из резервной копии и продолжить работу в восстановленной базе.</p><div class="hint-container info"><p class="hint-container-title">Примечание</p><p>Резервная копия базы данных должны создаваться регулярно и периодически проверяться.</p></div><p>Если необходимо продолжить работу в поврежденной базе данных, в Microsoft SQL Management Studio для нее необходимо дополнительно выполнить запрос:</p><p><code>ALTER DATABASE ИМЯ\\_БД SET Multi\\_USER;</code></p>',16)),e("details",m,[t[2]||(t[2]=e("summary",null,"Читайте также",-1)),e("ul",null,[e("li",null,[e("p",null,[a(n,{to:"/guide/database/backup_database/sozdanie_rezervnoj_kopii_bazy_dannyh_ms_sql.html"},{default:o(()=>t[0]||(t[0]=[s("Создание резервной копии базы данных MS SQL")])),_:1,__:[0]})])]),e("li",null,[e("p",null,[a(n,{to:"/work/bd/vosstanovlenie/vosstanovlenie_bd_iz_rezervnoj_kopii_ms_sql.html"},{default:o(()=>t[1]||(t[1]=[s("Восстановление базы данных из резервной копии MS SQL")])),_:1,__:[1]})])])])])])}const h=i(_,[["render",u]]),b=JSON.parse('{"path":"/work/bd/obsluzhivanie/proverka_tselostnosti_baz_dannykh_sql.html","title":"Проверка целостности баз данных SQL","lang":"en-US","frontmatter":{"title":"Проверка целостности баз данных SQL","createTime":"2025/06/13 10:23:06"},"headers":[],"readingTime":{"minutes":1.1,"words":329},"git":{"updatedTime":1749802702000,"contributors":[{"name":"a.lutoshkin","username":"","email":"a.lutoshkin@tradesoft.ru","commits":1,"avatar":"https://gravatar.com/avatar/605ee9d365e3a6380f8e9c71f9269ee5373d537aebefbece4e023cac396dfc8d?d=retro"}]},"filePathRelative":"work/bd/obsluzhivanie/proverka_tselostnosti_baz_dannykh_sql.md","categoryList":[{"id":"67e92c","sort":10000,"name":"work"},{"id":"1d89b2","sort":10017,"name":"bd"},{"id":"4474c8","sort":10019,"name":"obsluzhivanie"}]}');export{h as comp,b as data};
